<!DOCTYPE html>
<html lang="en">
<head>
  {% load static %}
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{% block title %}Kitchen Service{% endblock %}</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="{% static 'css/styles.css' %}">
</head>
<body>
  {% if user.is_authenticated %}
    <div class="layout">
      {% include 'includes/sidebar.html' %}
      <main class="content-area">
        <div class="container-fluid">
          {% block content %}

          {% endblock %}
          {% block pagination %}
						{% include 'includes/pagination.html' %}
          {% endblock %}
        </div>
      </main>
    </div>
  {% else %}
      {% block public_content %}
      {% endblock %}

  {% endif %}

<!-- Choices.js CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/choices.js/public/assets/styles/choices.min.css">

<!-- Bootstrap JS (already included) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<!-- Choices.js JS -->
<script src="https://cdn.jsdelivr.net/npm/choices.js/public/assets/scripts/choices.min.js"></script>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    // Initialize Choices on both multi-select fields
    const selects = ['#id_ingredients', '#id_cooks'];
    selects.forEach(selector => {
      const el = document.querySelector(selector);
      if (el) {
        new Choices(el, {
          removeItemButton: true,
          placeholderValue: selector === '#id_ingredients'
            ? 'Select ingredients...'
            : 'Select cooks...',
          searchEnabled: true,
          searchPlaceholderValue: 'Type to search...',
          searchResultLimit: 15,
          shouldSort: false,
          noResultsText: 'No results found',
        });
      }
    });
  });
</script>


</body>
</html>
